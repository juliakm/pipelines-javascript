trigger:
- master

stages:
- stage: S0
  jobs:
  - job: J0
    pool:
      vmImage: ubuntu-latest
    steps:
    - bash: echo '##vso[task.setvariable variable=crosser;isOutput=true]'true
      name: output
- stage: S1
  variables:
    rtStage: $[dependencies.S0.outputs['J0.output.crosser']]
  jobs:
  - job: J0
    pool:
      vmImage: ubuntu-latest
    steps:
    - bash: |
        echo output'
        'variable rtStage $(rtStage)'
        'environment rtStage $RTSTAGE
      name: jobAcrossStages

# variables:
# - name: myJob
#   value: MyJob


# trigger:
# - master

# pool:
#   vmImage: 'ubuntu-latest'

# steps:
# - task: NodeTool@0
#   inputs:
#     versionSpec: '10.x'
#   displayName: 'Install Node.js'

# - script: |
#     printenv
#     npm install
#     npm run build
#   displayName: 'npm install and build'

# - task: CopyFiles@2
#   inputs:
#     Contents: '$(Build.Repository.LocalPath)/**' # Pull the build directory (React)
#     TargetFolder: '$(Build.ArtifactStagingDirectory)'
