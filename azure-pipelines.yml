trigger:
- master

stages:
- stage: S0
  jobs:
  - job: J0
    pool:
      vmImage: ubuntu-latest
    steps:
    - bash: echo '##vso[task.setvariable variable=crosser;isOutput=true]'true
      name: output
- stage: S1
  variables:
    rtStage: $[dependencies.S0.outputs['J0.output.crosser']]
  jobs:
  - job: J0
    pool:
      vmImage: ubuntu-latest
    steps:
    - bash: |
        echo output'
        'variable rtStage $(rtStage)'
        'environment rtStage $RTSTAGE
      name: jobAcrossStages


# variables:
# - name: testNull
#   value: ''

# jobs:
#   - job: A
#     steps:
#     - script: echo testNull is blank
#     condition: eq('${{ variables.testNull }}', '')

# - task: NodeTool@0
#   inputs:
#     versionSpec: '10.x'
#   displayName: 'Install Node.js'

# - script: |
#     npm install
#     npm run build
#   displayName: 'npm install and build'

# - task: CopyFiles@2
#   inputs:
#     Contents: 'dist/**' 
#     TargetFolder: '$(Build.ArtifactStagingDirectory)'

# - task: PublishBuildArtifacts@1
#   inputs: 
#     pathtoPublish: $(Build.ArtifactStagingDirectory) # dist or build files
#     ArtifactName: 'www' # output artifact named www